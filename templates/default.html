<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}{% endblock %}</title>
    <link rel="stylesheet" href="/static/default.css" type="text/css">
    {% if tittel %}
        <meta property='og:title' content='{{tittel}}' />
        <meta name="twitter:text:title" content="{{tittel}}">

    {% endif %}
    {% if innledning %}
        <meta property='og:description' content="{{innledning[0]}}" />
        <meta name="twitter:description" content="{{innledning[0]}}">
    {% endif %}
    {% if bakgrunn %}
      <style>
         html {background-image: url({{url_for('static', filename=bakgrunn)}});
               background-size: cover;
               background-attachment: fixed;
               background-position: center;}
         body {background-color: rgba(255,255,255,.90);}
      </style>
      <meta property='og:image' content='{{url_for('static', filename=bakgrunn, _external=True)}}'>
      <meta name="twitter:image" content='{{url_for('static', filename=bakgrunn, _external=True)}}'>
    {% endif %}
    <meta property='og:url' content ='{{url_for(request.endpoint, _external=True)}}'
    <meta property='og:site_name' content='Magdalons Lekegrind'>
    <meta property='og:type' content='website'>
    <meta property='fb:app_id' content='846474093671278'>
    <meta name="twitter:creator" content="@magdalon">
    <meta name="twitter:site" content="@magdalon">


<meta name="twitter:card" content="summary_large_image">
    {% block head %}{% endblock %}
  </head>
  <body>
{% block content %}
<h1>{{tittel}}</h1>
<nav>
    <a href="{{'/'}}">Hjem</a>
    <a href="{{'..'}}">Opp</a>

</nav>
{% if innledning %}
    {% for avsnitt in innledning %}
        <p>{{avsnitt}}</p>
    {% endfor %}
    <hr>
{% endif %}

{% block skjema %}
{% if skjema %}
  {% if skjema.errors %}
    <ul class="error">
      {% for field_name, field_errors in skjema.errors|dictsort if field_errors %}
        {% for error in field_errors %}
          <li>{{ skjema[field_name].label }}: {{ error }}</li>
        {% endfor %}
      {% endfor %}
    </ul>
  {% endif %}
  <form method='GET'>
    {% for felt in skjema %}
      <p>
        {{ felt.label if not felt.type=='SubmitField' }}
        {{ felt }}
      </p>
    {% endfor %}
  </form>
  <hr>
{% endif %}
{% endblock %}
{% block output %}
{% if utdata is mapping %}
  <dl>
  {% for k, v in utdata.items() %}
    <dt>{{k}}</dt><dd>{{v}}</dd>
  {% endfor %}
  </dl>
{% elif utdata is iterable %}
  {% for data in utdata %}
    <p>{{data}}</p>
  {% endfor %}
{% else %}
  <p>{{utdata}}</p>
{% endif %}
{% endblock %}
{% endblock %}
  </body>
</html>
